{"is_source_file": true, "format": "JavaScript", "description": "This is a JavaScript source file that implements a lightweight API client with fetch, providing functions for making HTTP requests, handling authorization tokens, and redirecting on 401 errors. It also exposes specific API endpoint functions related to messaging.", "external_files": ["fetch API (browser built-in)", "window.location (browser built-in)", "localStorage (browser built-in)"], "external_methods": ["fetch", "localStorage.getItem", "localStorage.removeItem", "window.location.replace"], "published": ["getApiBaseUrl", "apiRequest", "messagesApi", "api"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Returns the configured API base URL.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, { method = 'GET', headers = {}, body, auth = true, form = false } = {})", "description": "Performs an API HTTP request with fetch, handling JSON parsing, authorization headers, and global 401 redirect logic.", "scope": "", "scopeKind": ""}, {"name": "messagesApi.listByTicket", "description": "Fetches a list of messages associated with a specific ticket ID."}, {"name": "messagesApi.post", "description": "Posts a new message with provided payload."}, {"name": "api.get", "description": "Performs a shorthand GET request returning JSON."}, {"name": "api.post", "description": "Performs a shorthand POST request with JSON body."}, {"name": "api.put", "description": "Performs a shorthand PUT request with JSON body."}, {"name": "api.delete", "description": "Performs a shorthand DELETE request."}], "calls": ["fetch", "localStorage.getItem", "localStorage.removeItem", "window.location.replace", "res.headers.get", "res.json", "res.text"], "search-terms": ["API fetch client", "React environment variable", "Authorization Bearer token", "Message API endpoints", "fetch with JSON handling"], "state": 2, "file_id": 13, "knowledge_revision": 54, "git_revision": "e577fd99d7c2c0ba157308bf936ce88b27b52ba2", "revision_history": [{"30": ""}, {"54": "e577fd99d7c2c0ba157308bf936ce88b27b52ba2"}], "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export async function apiRequest(path, { method = 'GET', headers = {}, body, auth = true, form =/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', headers = {}, body, auth = true, form = false } = {})"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listByTicket", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^  listByTicket: (ticketId) => apiRequest(`\\/messages\\/ticket\\/${ticketId}`, { method: 'GET' }),$/", "language": "JavaScript", "kind": "property", "scope": "messagesApi", "scopeKind": "class"}, {"_type": "tag", "name": "messagesApi", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export const messagesApi = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^  post: (payload) => apiRequest('\\/messages', { method: 'POST', body: payload }),$/", "language": "JavaScript", "kind": "property", "scope": "messagesApi", "scopeKind": "class"}], "hash": "fb2687feacc39e4719fecded07f69d91", "format-version": 4, "code-base-name": "customer_service_frontend", "filename": "customer_service_frontend/src/api/client.js", "fields": [{"name": "listByTicket: (ticketId) => apiRequest(`\\/messages\\/ticket\\/${ticketId}`, { method: 'GET' }),", "scope": "messagesApi", "scopeKind": "class", "description": "unavailable"}, {"name": "post: (payload) => apiRequest('\\/messages', { method: 'POST', body: payload }),", "scope": "messagesApi", "scopeKind": "class", "description": "unavailable"}]}