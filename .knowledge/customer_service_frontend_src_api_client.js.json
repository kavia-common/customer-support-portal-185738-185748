{"is_source_file": true, "format": "JavaScript", "description": "This file defines a lightweight API client for a React frontend application. It provides functions for making HTTP requests to a backend API, including handling JSON responses, form data, and error scenarios. It also exports specific API endpoints for messages and generic HTTP methods.", "external_files": ["fetch API (built-in)", "process.env for environment variables"], "external_methods": ["fetch (global function)", "headers.get (from fetch Response headers)"], "published": ["getApiBaseUrl", "apiRequest", "messagesApi", "api"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Returns the configured API base URL, defaulting to localhost if not set.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, { method = 'GET', headers = {}, body, form = false } = {})", "description": "Performs an HTTP request to the backend API using fetch, handling JSON parsing, headers, and errors.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "res.headers.get", "res.ok", "res.json", "res.text"], "search-terms": ["API client", "fetch wrapper", "React environment variable", "messages API", "json request", "no authorization"], "state": 2, "file_id": 13, "knowledge_revision": 98, "git_revision": "5d869265d59d4be0aab51938df83b074eee6956f", "revision_history": [{"30": ""}, {"54": "e577fd99d7c2c0ba157308bf936ce88b27b52ba2"}, {"98": "5d869265d59d4be0aab51938df83b074eee6956f"}], "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export async function apiRequest(path, { method = 'GET', headers = {}, body, form = false } = {}/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', headers = {}, body, form = false } = {})"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listByTicket", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^  listByTicket: (ticketId) => apiRequest(`\\/messages\\/ticket\\/${ticketId}`, { method: 'GET' }),$/", "language": "JavaScript", "kind": "property", "scope": "messagesApi", "scopeKind": "class"}, {"_type": "tag", "name": "messagesApi", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^export const messagesApi = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185748/customer_service_frontend/src/api/client.js", "pattern": "/^  post: (payload) => apiRequest('\\/messages', { method: 'POST', body: payload }),$/", "language": "JavaScript", "kind": "property", "scope": "messagesApi", "scopeKind": "class"}], "hash": "a5b5cb23b844ffe85ad99f4b21b8656b", "format-version": 4, "code-base-name": "customer_service_frontend", "filename": "customer_service_frontend/src/api/client.js", "fields": [{"name": "listByTicket: (ticketId) => apiRequest(`\\/messages\\/ticket\\/${ticketId}`, { method: 'GET' }),", "scope": "messagesApi", "scopeKind": "class", "description": "unavailable"}, {"name": "post: (payload) => apiRequest('\\/messages', { method: 'POST', body: payload }),", "scope": "messagesApi", "scopeKind": "class", "description": "unavailable"}]}